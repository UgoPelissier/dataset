# Dataset creation

## Stokes 2d

The *stokes2* dataset is a 2d dataset with 2 velocity components and 1 pressure component. The dataset is generated by solving the Stokes equation with a finite element method, using *FreeFem++* open-source software.

The domain is a square with one or two circular holes. U-velocity is set to one on the left boundary.

The `stokes2.sh` file contains the commands to generate the dataset. The `stokes2.sh` file can be run with the command:

```bash
bash ./stokes2.sh -p 2 -n 250 -rmin 0.5 -rmax 1.5 -L_ref 40.0 -H_ref 5.0 -m 0.5 -l 1.0 -c 0.1
```

To get help on the parameters, run:

```bash
bash ./stokes2.sh -h
```

The dataset is generated by the following code:

```bash
cd stokes2
python main.py
FreeFem++ stokes.edp
```

- The python file generates the circles.txt files and the CAD files that can be read by *GMSH* to generate a mesh (```geo/cad_*.geo``` files).
- The *FreeFem++* file generates the mesh (```mesh/cad_*.msh``` files), solves the Stokes equation and saves the solution in a ```vtk``` file.

The ```vtk``` file can be read by *Paraview* to visualize the solution.

## Stokes 3d

The *stokes3* dataset is a 3d dataset with 3 velocity components and 1 pressure component. The dataset is generated by solving the Stokes equation with a finite element method, using *FreeFem++* open-source software.

The domain is a cube with one or two circular cylinders. U-velocity is set to one on the left boundary.

The `stokes3.sh` file contains the commands to generate the dataset. The `stokes3.sh` file can be run with the command:

```bash
bash ./stokes3.sh -l 1.0 -c 0.1
```

To get help on the parameters, run:

```bash
bash ./stokes3.sh -h
```

The dataset is generated by the following code:

```
cd stokes3
python geo.py
FreeFem++ stokes3.edp
```

- The python file generates the CAD files that can be read by *GMSH* to generate a mesh (```geo/cad_*.geo``` files).
- The ```mesh.sh``` file generates the mesh (```mesh/cad_*.msh``` files) using *GMSH*.
- The *FreeFem++* file reads the mesh, solves the Stokes equation and saves the solution in a ```vtu``` file and the metric for mesh adaptation in a ```sol``` file.

The ```vtu``` file can be read by *Paraview* to visualize the solution.